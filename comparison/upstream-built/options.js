document.addEventListener("DOMContentLoaded",async()=>{const e=(await chrome.storage.local.get("config")).config||{},t=e.editorType||"web",n=e.externalExtensionIds||[];document.getElementById(`editor${t.charAt(0).toUpperCase()+t.slice(1)}`).checked=!0,n.length>0&&(document.getElementById("extensionIds").value=n.join(", "))}),document.getElementById("saveButton").addEventListener("click",async()=>{
const e=document.querySelector('input[name="editorType"]:checked').value,t=document.getElementById("extensionIds").value.trim(),n=(await chrome.storage.local.get("config")).config||{};if(n.editorType=e,t){const e=t.split(",").map(e=>e.trim()).filter(e=>e.length>0);n.externalExtensionIds=e}else delete n.externalExtensionIds;await chrome.storage.local.set({config:n});const o=document.getElementById("status");o.textContent="Settings saved successfully!",o.className="status success",setTimeout(()=>{
o.style.display="none"},3e3),chrome.runtime.reload()});